library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_22 <- menstru %>% filter(year(fecha) == 2022)
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_22 %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs <- menstru_22 %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
library(ggplot2)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, color = Region)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, fill = Region)) +
geom_col()
ggplot(menstru_22, aes(x = median_precio, y = Provincia)) +
geom_col()
menstru_22
ggplot(menstru_top, aes(x = median_precio, y = Provincia)) +
geom_col()
# Activamos el paquete que incluye la función fct_reorder()
library(forcats)
ggplot(menstru_22, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
ggplot(menstru_top, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
View(menstru_provs)
ggplot(menstru_provs, aes(x = median_precio, y = Provincia)) +
geom_col()
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
head(menstru)
ggplot(menstru, aes(x = year(fecha))) +
geom_bar()
ggplot(menstru, aes(x = year(fecha), fill = Categoría)) +
geom_bar()
ggplot(menstru, aes(x = year(fecha), fill = Categoría)) +
geom_bar(position = "dodge")
ggplot(menstru_22, aes(x = Categoría)) +
geom_bar()
ggplot(menstru_22, aes(x = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram(bins = 50)
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_density()
menstru_top <- menstru_22 %>%
filter(Categoría == "toallitas")%>%
group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
menstru_top <- menstru_22 %>%
filter(Categoría == "toallitas")%>%
group_by(Categoría,Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
ggplot(menstru_provs, aes(x = median_precio, y = Provincia)) +
geom_col()
head(menstru)
ggplot(menstru, aes(x = year(fecha))) +
geom_bar()
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram(bins = 50)
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_density()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_density()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.6)
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), color = Region)) +
geom_point()
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), group = anio))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), group = anio))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
library(tidytext)
?reorder_within
ggplot(menstru_anios, aes(x = median_precio, y = reorder_within(Provincia, median_precio, anio)))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), group = anio))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio)))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), group = Provincia))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
menstru_anios
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio))
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio)
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio) %>%
arrange(anio, desc(median_precio))
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio) %>%
arrange(anio, desc(median_precio)) %>%
ggplot(aes(x = median_precio, y = Provincia)) +
geom_col() +
coord_flip() +
scale_x_reordered() +
facet_wrap(~anio, scales = 'free_x')
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio) %>%
arrange(anio, desc(median_precio)) %>%
ggplot(aes(x = median_precio, y = Provincia)) +
geom_col() +
coord_flip() +
scale_x_reordered() +
facet_wrap(~anio)
library(tidytext)
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio) %>%
arrange(anio, desc(median_precio)) %>%
ggplot(aes(x = median_precio, y = Provincia)) +
geom_col() +
coord_flip() +
#scale_x_reordered() +
facet_wrap(~anio)
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), group = Provincia))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio) %>%
arrange(anio, desc(median_precio))
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
group_by(anio) %>%
arrange(anio, desc(median_precio)) %>%
ggplot(aes(x = median_precio, y = Provincia))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio, fill = decade)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(name = reorder_within(Provincia, median_precio, anio))
menstru_anios %>%
mutate(name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio, fill = decade)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(name, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio))
?scale_x_reordered
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(name, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
#scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(name, median_precio, fill = anio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(name, median_precio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
name = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(name, median_precio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio), group = Provincia))+
geom_point()+
facet_wrap(vars(anio),
scales = 'free_y')
menstru_anios %>%
mutate(#decade = as.factor(decade),
Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio)) +
geom_col(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio)) +
geom_point(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered() +
scale_y_continuous(expand = c(0,0))
menstru_anios %>%
mutate(#decade = as.factor(decade),
Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio)) +
geom_point(show.legend = FALSE) +
facet_wrap(~anio, scales = "free_y") +
coord_flip() +
scale_x_reordered()
menstru_anios %>%
mutate(#decade = as.factor(decade),
Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio)) +
geom_point(show.legend = FALSE) +
facet_wrap(~anio, scales = "free") +
coord_flip() +
scale_x_reordered()
View(menstru_provs)
View(menstru)
View(menstru_22)
table(menstru_22$Provincia)
menstru_anios
ggplot(menstru_anios, aes(x=anio, y = median_precio, color = Provincia))+
geom_line()
View(menstru_provs)
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anios))
menstru_anios
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio))
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio))
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio), nrows = 3)
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio), nrow = 3)
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio), ncol = 2)
menstru_anios %>%
mutate(#decade = as.factor(decade),
Provincia = reorder_within(Provincia, median_precio, anio))
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio))
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(Provincia, median_precio)) +
geom_point(show.legend = FALSE) +
facet_wrap(~anio, scales = "free") +
coord_flip() +
scale_x_reordered()
?facet_wrap
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(median_precio, Provincia)) +
geom_point(show.legend = FALSE) +
facet_wrap(~anio, scales = "free") +
scale_y_reordered()
library(ggplot2)
library(dplyr)
library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_22 <- menstru %>% filter(year(fecha) == 2022)
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_22 %>%
filter(Categoría == "toallitas")%>%
group_by(Categoría,Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs <- menstru_22 %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
library(ggplot2)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, color = Region)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, fill = Region)) +
geom_col()
ggplot(menstru_provs, aes(x = median_precio, y = Provincia)) +
geom_col()
# Activamos el paquete que incluye la función fct_reorder()
library(forcats)
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
head(menstru)
ggplot(menstru, aes(x = year(fecha))) +
geom_bar()
ggplot(menstru, aes(x = year(fecha), fill = Categoría)) +
geom_bar()
ggplot(menstru, aes(x = year(fecha), fill = Categoría)) +
geom_bar(position = "dodge")
ggplot(menstru_22, aes(x = Categoría)) +
geom_bar()
ggplot(menstru_22, aes(x = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill", width = 0.5)
ggplot(menstru_22, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram(bins = 50)
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_density()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_density()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.6)
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()
ggplot(menstru_anios, aes(x=anio, y = median_precio, color = Provincia))+
geom_line()
menstru_anios
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio))
ggplot(menstru_anios, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()+
facet_wrap(vars(anio), ncol = 2)
library(tidytext)
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio))
menstru_anios %>%
mutate(Provincia = reorder_within(Provincia, median_precio, anio)) %>%
ggplot(aes(median_precio, Provincia)) +
geom_point(show.legend = FALSE) +
facet_wrap(~anio, scales = "free") +
scale_y_reordered()
ggplot(menstru_22, aes(y = precio_unidad)) +
geom_boxplot()
ggplot(menstru_22, aes(x = Region, y = precio_unidad)) +
geom_boxplot()
# Activamos el paquete que incluye la función fct_reorder()
library(forcats)
ggplot(menstru_provs, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
head(menstru)
ggplot(menstru, aes(x = year(fecha), fill = Categoría)) +
geom_bar()
ggplot(menstru_22, aes(x = Categoría)) +
geom_bar()
ggplot(menstru_22, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(x = precio_unidad, fill = Categoría)) +
geom_density()
ggplot(menstru_22, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_22, aes(x = precio_unidad)) +
geom_density()
ggplot(menstru_22, aes(x = precio_unidad, fill = Categoría)) +
geom_density()
toallitas_22 <- menstru_22 %>% filter(Categoría == "toallitas")
library(ggplot2)
library(dplyr)
library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_22 <- menstru %>% filter(year(fecha) == 2022)
toallitas_22 <- menstru_22 %>% filter(Categoría == "toallitas")
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_22 %>%
filter(Categoría == "toallitas")%>%
group_by(Categoría,Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs <- menstru_22 %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
ggplot(toallitas_22, aes(y = precio_unidad)) +
geom_boxplot()
ggplot(toallitas_22, aes(y = precio_unidad)) +
geom_boxplot()
ggplot(toallitas_22, aes(x = Region, y = precio_unidad)) +
geom_boxplot()
ggplot(menstru_22, aes(y = "", fill = Región)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(y = "", fill = Region)) +
geom_bar(position = "fill")
ggplot(menstru_22, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
