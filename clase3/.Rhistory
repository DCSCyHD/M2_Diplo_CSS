menstru_top <- menstru_21_toallitas %>%
group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs_toallitas <- menstru_21_toallitas %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
Para disponer de las funciones de visualización, activamos [**ggplot2**](https://ggplot2.tidyverse.org/):
library(ggplot2)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
library(ggplot2)
library(dplyr)
library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_21 <- menstru %>% filter(year(fecha) == 2021)
menstru_21_toallitas <- menstru_21 %>% filter(Categoría == "toallitas")
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_21_toallitas %>%
group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs_toallitas <- menstru_21_toallitas %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
library(ggplot2)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, color = Region)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, fill = Region)) +
geom_col()
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = Provincia)) +
geom_col()
# Activamos el paquete que incluye la función fct_reorder()
library(forcats)
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
head(menstru_21)
ggplot(menstru_21, aes(x = Region)) +
geom_bar()
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar()
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "dodge")
ggplot(menstru_21, aes(x = Region)) +
geom_bar()
ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5)
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(x = Categoria)) +
geom_bar()
menstru_21
ggplot(menstru_21, aes(x = Categoría)) +
geom_bar()
ggplot(menstru_21, aes(x = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill", width = 0.5)
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_histogram(bins = 50)
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_density()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()
ggplot(menstru_21_toallitas, aes(y = precio_unidad)) +
geom_boxplot()
ggplot(menstru_21_toallitas, aes(x = Region, y = precio_unidad)) +
geom_boxplot()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)
library(ggforce)
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)+
facet_zoom(xlim = c(0, 30))
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría))
library(viridis)
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría),
nrow=2,
scales = 'free')+
theme_minimal()+
scale_fill_viridis_d()
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
library(ggridges)
library(ggplot2)
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
ggplot(menstru_21, aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
ggplot(menstru_21 %>% filter(Categoría == "toallitas"), aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
ggplot(menstru_21 %>% filter(Categoría == "tampones"), aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
ggplot(menstru_21 , aes(x = precio_unidad, y = Categoría, fill = Categoría)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
library(ggridges)
library(ggplot2)
ggplot(menstru_21 , aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
library(ggridges)
library(ggplot2)
ggplot(menstru_21 , aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
library(ggplot2)
library(dplyr)
library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_21 <- menstru %>% filter(year(fecha) == 2021)
menstru_21_toallitas <- menstru_21 %>% filter(Categoría == "toallitas")
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_21_toallitas %>%
group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs_toallitas <- menstru_21_toallitas %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
library(ggplot2)
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, color = Region)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, fill = Region)) +
geom_col()
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = Provincia)) +
geom_col()
# Activamos el paquete que incluye la función fct_reorder()
library(forcats)
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
head(menstru_21)
ggplot(menstru_21, aes(x = Region)) +
geom_bar()
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar()
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "dodge")
ggplot(menstru_21, aes(x = Categoría)) +
geom_bar()
ggplot(menstru_21, aes(x = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill", width = 0.5)
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_histogram(bins = 50)
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_density()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_point()
ggplot(menstru_21_toallitas, aes(y = precio_unidad)) +
geom_boxplot()
ggplot(menstru_21_toallitas, aes(x = Region, y = precio_unidad)) +
geom_boxplot()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)
library(ggforce)
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)+
facet_zoom(xlim = c(0, 30))
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría))
library(viridis)
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría),
nrow=2,
scales = 'free')+
theme_minimal()+
scale_fill_viridis_d()
library(ggridges)
library(ggplot2)
ggplot(menstru_21 , aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
theme_void()
ggplot(menstru_21, aes(y = Region, fill = "")) +
geom_bar(position = "fill") +
theme_void()
ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill") +
theme_void()
ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5) +
theme_void()
ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar() +
theme_void()
ggplot(menstru_21, aes(x = Region)) +
geom_bar() +
theme_void()
ggplot(menstru_21, aes(x = Region)) +
geom_bar()
ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5) +
theme_minimal()
ggplot(menstru_21, aes(x = Region)) +
geom_bar()  +
theme_minimal()
grid.arrange(g1, g2, g3, ncol=3)
library(grid)
g1 <- ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
g2 <- ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5) +
theme_minimal()
g3 <- ggplot(menstru_21, aes(x = Region)) +
geom_bar()  +
theme_minimal()
grid.arrange(g1, g2, g3, ncol=3)
library(gridExtra)
library(grid)
library(gridExtra)
g1 <- ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
theme_void()
g2 <- ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5) +
theme_minimal()
g3 <- ggplot(menstru_21, aes(x = Region)) +
geom_bar()  +
theme_minimal()
grid.arrange(g1, g2, g3, ncol=3)
grid.arrange(g1, g2, g3, ncol=2)
library(grid)
library(gridExtra)
g1 <- ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
scale_fill_viridis_d()+
theme_void()
g2 <- ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5) +
scale_fill_viridis_d()+
theme_minimal()
g3 <- ggplot(menstru_21, aes(x = Region)) +
geom_bar()  +
theme_minimal()
grid.arrange(g1, g2, g3, ncol=2)
library(ggplot2)
library(dplyr)
library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_21 <- menstru %>% filter(year(fecha) == 2021)
menstru_21_toallitas <- menstru_21 %>% filter(Categoría == "toallitas")
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_21_toallitas %>%
group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs_toallitas <- menstru_21_toallitas %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
library(grid)
library(gridExtra)
g1 <- ggplot(menstru_21, aes(y = "", fill = Region)) +
geom_bar(position = "fill") +
coord_polar() +
scale_fill_viridis_d()+
theme_void()
g2 <- ggplot(menstru_21, aes(x = "", fill = Region)) +
geom_bar(position = "fill", width = 0.5) +
scale_fill_viridis_d()+
theme_minimal()
g3 <- ggplot(menstru_21, aes(x = Region)) +
geom_bar()  +
theme_minimal()
grid.arrange(g1, g2, g3, ncol=2)
library(ggplot2)
library(dplyr)
library(lubridate)
menstru <- readRDS('./data/menstru_data.RDS')
menstru_21 <- menstru %>% filter(year(fecha) == 2021)
menstru_21_toallitas <- menstru_21 %>% filter(Categoría == "toallitas")
menstru_anios <- menstru %>% group_by(year(fecha), Provincia)%>%
summarise(median_precio = median(precio_unidad)) %>%
rename(
anio = "year(fecha)"
)
menstru_top <- menstru_21_toallitas %>%
group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))%>%
arrange(desc(median_precio))%>%
ungroup()%>%
slice_head(n = 5)
menstru_provs_toallitas <- menstru_21_toallitas %>% group_by(Provincia, Region)  %>%
summarise(median_precio = median(precio_unidad))
head(menstru_top)
ggplot(menstru_top, aes(x = Provincia, y = median_precio)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, color = Region)) +
geom_col()
ggplot(menstru_top, aes(x = Provincia, y = median_precio, fill = Region)) +
geom_col()
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = Provincia)) +
geom_col()
# Activamos el paquete que incluye la función fct_reorder()
library(forcats)
ggplot(menstru_provs_toallitas, aes(x = median_precio, y = fct_reorder(Provincia, median_precio))) +
geom_col()
head(menstru_21)
ggplot(menstru_21, aes(x = Region)) +
geom_bar()
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar()
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "dodge")
ggplot(menstru_21, aes(x = Categoría)) +
geom_bar()
ggplot(menstru_21, aes(x = "", fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21, aes(y = "", fill = Categoría)) +
geom_bar(position = "fill", width = 0.5)
ggplot(menstru_21, aes(x = Region, fill = Categoría)) +
geom_bar(position = "fill")
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_histogram(bins = 50)
ggplot(menstru_21_toallitas, aes(x = precio_unidad)) +
geom_density()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram()
ggplot(menstru_21, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Categoría)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram()
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_histogram(position = "dodge")
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density()
library(ggridges)
library(ggplot2)
ggplot(menstru_21_toallitas , aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_ridges() +
theme(legend.position = "none")
library(viridis)
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría),
nrow=2,
scales = 'free')+
theme_minimal()+
scale_fill_viridis_d()
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría))
library(ggforce)
ggplot(menstru_21_toallitas, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.5)+
facet_zoom(xlim = c(0, 30))
ggplot(menstru_21, aes(x = precio_unidad, fill = Categoría)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Region))
ggplot(menstru_21, aes(x = precio_unidad, fill = Region)) +
geom_density(alpha = 0.8)+
facet_wrap(vars(Categoría))
ggplot(menstru_21_toallitas , aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
#theme_ridges() +
theme(legend.position = "none")
ggplot(menstru_21_toallitas , aes(x = precio_unidad, y = Region, fill = Region)) +
geom_density_ridges() +
theme_minimal() +
theme(legend.position = "none")
library(ggplot2)
library(dplyr)
load('./data/eph_2019_limpia.rda')
library(ggplot2)
library(dplyr)
load('./data/eph_2019_limpia.rda')
View(df)
library(ggplot2)
library(dplyr)
load('./data/eph_2019_limpia.rda')
df_filt_1 <- df %>% filter(CH06 > 10 & ESTADO != "NR")
ggplot(df_filt_1, aes(x = ESTADO, fill = SEXO))+
geom_bar(position = 'dodge')
df_filt_1 %>%
count(ESTADO, SEXO, wt =PONDIIO) %>%
ggplot(aes(x = ESTADO, y = n, fill = SEXO))+
geom_col(position = 'dodge')
options(scipen = 999) #Saco notación científica
df_filt_2 <- df %>% filter(CAT_OCUP == "Empleado" & PP08D1 > 0 & PP08D1 < 150000)
ggplot(df_filt_2, aes(x = PP08D1, fill = REGION))+
geom_density(alpha = 0.5)
library(ggforce)
df_filt_3 <- df %>% filter(CAT_OCUP == "Empleado" & PP08D1 > 0)
ggplot(df_filt_3, aes(x = PP08D1, fill = REGION))+
geom_density(alpha = 0.6)+
facet_zoom(xlim = c(0, 50000))
ggplot(df_filt_3, aes(x = PP08D1, fill = SEXO))+
geom_density(alpha=0.5)+
facet_wrap(vars(REGION))+
theme_minimal()
ggplot(df_filt_3, aes(x = PP08D1, fill = SEXO))+
geom_density(alpha=0.5)+
facet_wrap(vars(REGION), nrow = 3)+
theme_minimal()
df_filt_3 <- df %>% filter(CAT_OCUP == "Empleado" & PP08D1 > 0)
ggplot(df_filt_3, aes(x=REGION, y = PP08D1, fill = SEXO))+
geom_boxplot()
